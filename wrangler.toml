name = "twitter-loyalty-bot"
main = "src/index.js"
compatibility_date = "2024-11-23"
compatibility_flags = ["nodejs_compat"]

# Service bindings for worker-to-worker communication
[[services]]
binding = "EVENT_HANDLER"
service = "loyalteez-event-handler"

# KV for tracking tweet processing to avoid duplicates
[[kv_namespaces]]
binding = "TWITTER_BOT_KV"
id = "2ccf358b408844289785f1ff3e272bf1"


# Scheduled trigger for polling (every 15 mins)
[triggers]
crons = ["*/15 * * * *"]

[vars]
# Loyalteez Brand ID (Wallet Address) - Replace with your brand address
BRAND_ID = "0x..."
# API URL
LOYALTEEZ_API_URL = "https://api.loyalteez.app"
# Twitter Handle to track (default)
TWITTER_HANDLE = "loyalteez"

# Secrets must be set via `wrangler secret put ...`
# TWITTER_API_KEY
# TWITTER_API_SECRET
# TWITTER_ACCESS_TOKEN
# TWITTER_ACCESS_SECRET
# TWITTER_BEARER_TOKEN
